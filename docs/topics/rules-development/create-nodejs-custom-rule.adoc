// Module included in the following assemblies:
//
// * docs/rules-development-guide/master.adoc

:_mod-docs-content-type: PROCEDURE
[id="create-nodejs-custom-rule_{context}"]
= Creating a custom Node.js rule

[role="_abstract"]
You must create custom rules to analyze `Node.js` applications by using {ProductShortName}. A `Node.js` rule contains the `nodejs.referenced` capability that supports the `pattern` field. 

The following example uses a custom rule to check if a `.tsx` file in the `Node.js` project imports the `React` framework.

.Procedure
. Create the `test-nodejs` directory.
+

[source, terminal]
----
$ mkdir -p ~/test-nodejs
----

. Save the following rule as `nodejs-rule-001.yml` in the `test-nodejs` directory:
+
[source, yaml]
----
- ruleID: test-tsx-support-00000
  description: Found React import in .tsx file
  message: Found React import in .tsx file
  effort: 1
  when:
    nodejs.referenced:
     pattern: "React" 
----

. Create the following test application in the `Component.tsx` file:
+

[source, node.js]
----
import React from 'react';
 export const MyComponent: React.FC = () => <div>Hello</div>;
----

. Run the following command in the {ProductShortName} CLI:
+

[source, terminal]
----
$ ./mta-cli analyze -i ~/test-nodejs/ -o \
~/test-nodejs/report --run-local=false \
--rules ~/test-nodejs/nodejs-rule-001.yml
----
+

[NOTE]
====
Add the `--overwrite` option if you want to use the same directory for the report when you run subsequent tests. {ProductShortName} overwrites the current report with the result of the latest analysis that you run.
====

. Open the static report at `~/test-nodejs/report/static-report/index.html` in your browser.

. Click the _<application_name>_ to open the Dashboard.

. Review the incidents in the *Issues* tab.

